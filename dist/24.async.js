(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"0C3M":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("lwsE")),r=n(a("W8MJ")),s=n(a("a1gu")),u=n(a("Nsbk")),o=n(a("7W2i"));a("Lzxq");var i=n(a("q1tI")),d=n(a("yEr3")),f=n(a("q6al")),c=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=(0,s.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),a.state={editorState:d.default.createEditorState("<p>Hello <b>World!</b></p>"),outputHTML:"<p></p>"},a.handleChange=function(e){console.log(e),a.setState({editorState:e,outputHTML:e.toHTML()})},a.setEditorContentAsync=function(){a.isLivinig&&a.setState({editorState:d.default.createEditorState("<p>\u4f60\u597d\uff0c<b>\u4e16\u754c!</b><p>")})},a}return(0,o.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.isLivinig=!0,setTimeout(this.setEditorContentAsync,3e3)}},{key:"componentWillUnmount",value:function(){this.isLivinig=!1}},{key:"render",value:function(){var e=this.state,t=(e.editorState,e.outputHTML,["bold","italic","underline","text-color","separator","link","separator","media"]);return i.default.createElement("div",null,i.default.createElement("div",{className:f.default.editor_wrapper},i.default.createElement(d.default,{contentClassName:f.default.height,controls:t,onChange:this.handleChange})))}}]),t}(i.default.Component);t.default=c},"9NTl":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFmklEQVRYR62Xe2yTVRjGn+d83dxoGxFpJ8ZE1AVZ0RgRoqjBS6IGQRJQLlFjEDNBE2JQoviPQ4yJGuP9DyKKUaKCIDFeuZgoKnchakJbFEQhkrTjIq7dxvZ95zFf241ua9cxPX8157zneX/nfd/zfqfEIIcEk0033COjw+FI8ttByoCD2agTI4dmOmq/JDnB30+qMRhJvDUYrYoA/klbj146xVpnrDHWQvxR4CIAN512KAF4TdQnBggBvFLSoVA0+W4lqIoAmXTDKwAfqSRUZn1uKBp/p7+9/QJICGTTsSyI6sEACFoXjibuHDRAtrlhhMQjvQRcQB9Aej9Ya/f4a5lT5jICY2G5AOTIbnvpl1Bd4opBA7SkYzMIfNQlIGmrE8Bj1sMNACZCvCq3Ru0GsDEYObk82zz0DQD35+aFDjiaHBqe+LocRMkUZI6PvlwuZ1J8/HT4tQoGb8tiLcGzSwoKO43jTvc8p4lkY1EkNjln2Xm1Q/cd7L2vD0B7atTFLp39/uUqqvK/aLxp1jqLKfu0DIeVAjC0WWsDH4aqM+OzHaENAMYXRe9YKJqIkrDFe/sAtB4bPcF6ZmsPI6rRWtxOstYPOIDbegMY2bv8oFuajwG8A9nVoFnfw05t54XqDqb6BZDgZJsbDgMckc+j2gLwLvOjIvEEoM0Afynk3u8Ffg9AtfHmd1hnGYHrARjVdtahtWovyUhBZ0eoLnFNxRT4BtnmWJOEJXn/2gbiVYKrAO2R+Fmp8DuOu9zzAo0EnvTrhkbTrOUiAtfldOjdHI7s+2ZAAJlUwy0gN+aN9QXJzyQsA9AJYL2glCEOWcvZNPpc4h2OwRxrsaPLAWnnSZwKcLI/Z4x7wZDhv/41IICWVGwJiaZCBLY7wAuWXFcAWpFLj5AA8aiAvwkdMIYP9wAwmiYPi0FeXdBZFq5LPFQRoD1Vf0knq39irqfna8CpMqM9V3/m827vhszzENb4AP66iJ0B4CkXeCZXA2J7sNa9MNvmHAZZUwCXU4WLas9J5HUKo88tyKQaXgK5sIcR7YOynAj/ChlugsVKUk9ZcSGBcwBthOgEiPkutA/iKzQ2KZk3e+mMC0aSftMqD5BNxyYJ+hygOW2mIwHamzuteY7gLSCCEn4H/ZZMLx8ZBQDO8n8ZehMlswvg+V0aAtaEo/GZFVPgG+R6gZvr6/7drips2oWAfQCuWQmgZH8X8IOhN0syLwPMO5PaQS4NRuLPkfkr228Eihez6YbbBX5RNPezArqXnZgE4kYBQQIpCLuNw81G3t+d1qwgeW0h79Y4un7IucltvR2XrYHukAlO2/H6EZ5XneguyPyiC+ArCXtA7AVts/8IkTgD4N0AAt3OpIMB4raaaOK3MwLwX0GZ5thqB95qD+ZZgqPKCfQ7L23yowSD18ORxKpStn1uQf6xGXsPxD0SljL/GFk8KADY+wXzOqEghDmhusR7/daABGbTsZW+81z9QP8AbHQcexgy/ldMxnOPunSaAN7XQ0z2RQNsk9F2ibdSpkbEVACTCvWgUhDdEcg5b4693f2YKHNkH8oxvNXzMJfEgxBaRfsEYcZW2utfCVLzgpHk8j5FmEnHVlQWKJwFyFTRG+da1QRZdaAVminAhx/QEOyCcDTpv5zy/wuUHhPK0BtXskhk+nzBBKwNReKzSeSakE6OGZY5pS0ERvdMC1IydnZv3QCgmuHJLSTcATzLYz2ah4RPQ9H49C7nXeItLfURtFV/Vwwh4EA4Gq/vLyxnBFBwfqdPXkq0ALGVQM6pgEQ4Go/9XwAbgpH4lHLOu5xk0mPOE/R9DuK/Pst90Uw6l4INwQinkns7BlJlpyF0MhRNlKytPregnHAmHVt/Js6LIwHZl0J1Cb89lx0Va0AaWUP+0T6Qk/e2kerPIvef6m/vv5ZDhj+aFityAAAAAElFTkSuQmCC"},BpJf:function(e,t,a){e.exports={main:"antd-pro\\pages\\-question\\-answer-main",qtitle:"antd-pro\\pages\\-question\\-answer-qtitle",qicon:"antd-pro\\pages\\-question\\-answer-qicon",title_wrapper:"antd-pro\\pages\\-question\\-answer-title_wrapper",title:"antd-pro\\pages\\-question\\-answer-title",qDetail:"antd-pro\\pages\\-question\\-answer-qDetail",answer:"antd-pro\\pages\\-question\\-answer-answer",operator:"antd-pro\\pages\\-question\\-answer-operator",icon_wrapper:"antd-pro\\pages\\-question\\-answer-icon_wrapper",icon:"antd-pro\\pages\\-question\\-answer-icon",comment_wraper:"antd-pro\\pages\\-question\\-answer-comment_wraper",btn_wrapper:"antd-pro\\pages\\-question\\-answer-btn_wrapper",answer_btn:"antd-pro\\pages\\-question\\-answer-answer_btn",text:"antd-pro\\pages\\-question\\-answer-text",form_box:"antd-pro\\pages\\-question\\-answer-form_box",formitem:"antd-pro\\pages\\-question\\-answer-formitem",align_right:"antd-pro\\pages\\-question\\-answer-align_right",my_editor:"antd-pro\\pages\\-question\\-answer-my_editor",height:"antd-pro\\pages\\-question\\-answer-height"}},"I/0H":function(e,t,a){"use strict";var n=a("284h"),l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Mwp2");var r=l(a("VXEj"));a("Telt");var s=l(a("Tckk")),u=l(a("lwsE")),o=l(a("W8MJ")),i=l(a("a1gu")),d=l(a("Nsbk")),f=l(a("7W2i"));a("Pwec");var c=l(a("CtXQ")),p=n(a("q1tI")),m=function(e){var t=e.type,a=e.text;return p.default.createElement("span",null,p.default.createElement(c.default,{type:t,style:{marginRight:8}}),a)},g=function(e){function t(){return(0,u.default)(this,t),(0,i.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.listData;return p.default.createElement(r.default,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){console.log(e)},pageSize:3},dataSource:e,renderItem:function(e){return p.default.createElement(r.default.Item,{key:e.title,actions:[p.default.createElement(m,{type:"star-o",text:"156"}),p.default.createElement(m,{type:"like-o",text:"156"}),p.default.createElement(m,{type:"message",text:"2"})]},p.default.createElement(r.default.Item.Meta,{avatar:p.default.createElement(s.default,{src:e.avatarFile}),title:p.default.createElement("a",null,e.userName),description:e.message}),e.content)}})}}]),t}(p.Component),h=g;t.default=h},gdxr:function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("pVnL"));a("/zsF");var s=n(a("PArb"));a("14J3");var u=n(a("BMrR"));a("+L6B");var o=n(a("2/Rp"));a("5NDa");var i=n(a("5rEg"));a("jCWc");var d=n(a("kPKH"));a("DZo9");var f=n(a("8z0m"));a("Pwec");var c=n(a("CtXQ"));a("miYZ");var p=n(a("tsqr")),m=n(a("lwsE")),g=n(a("W8MJ")),h=n(a("a1gu")),w=n(a("Nsbk")),v=n(a("7W2i"));a("y8nQ");var E,A,q,y,C=n(a("Vl3Y")),I=l(a("q1tI")),k=a("MuoO"),b=n(a("usdK")),N=n(a("v99g")),M=(n(a("0C3M")),n(a("I/0H"))),D=n(a("yEr3")),R=a("Psm9"),S=(a("6xfc"),a("+n12"),a("LLXN")),_=n(a("BpJf")),x=n(a("9NTl")),L={xs:24,sm:24,md:24,lg:16,xl:16,xxl:16},Q=C.default.Item,V=["bold","italic","underline","text-color","separator","link","separator"],Z=(E=(0,k.connect)(function(e){var t=e.question;return{question:t}}),A=C.default.create(),E(q=A((y=function(e){function t(e){var a;return(0,m.default)(this,t),a=(0,h.default)(this,(0,w.default)(t).call(this,e)),a.showInput=function(){var e=a.state.inputVisible;a.setState({inputVisible:!e})},a.saveInputRef=function(e){a.input=e},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){var e=a.state.inputValue;e||a.setState({inputVisible:!1})},a.getQuestionDetail=function(){var e=a.props.dispatch;e({type:"question/getDetail",id:a.id}).then(function(){var e=a.props.question.qDetailRes;if(200!==e.code)return p.default.error((0,S.formatMessage)({id:e.msg})+",\u5373\u5c06\u8df3\u8f6c\u5230\u9996\u9875"),void setTimeout(function(){b.default.push("/")},500);var t=e.data.answer;a.isVote(t.answerId),a.getComment(t.answerId)})},a.isVote=function(e){if(sessionStorage.getItem("access_token")){var t=a.props.dispatch;t({type:"question/isVote",params:{answerId:e}})}},a.getComment=function(e){var t=a.props.dispatch;t({type:"question/getComment",params:{answerId:e}})},a.handleVote=function(e,t){var n=a.props.dispatch;n({type:"question/vote",params:{answerId:t,voteValue:e}}).then(function(){a.getQuestionDetail()})},a.handleComment=function(e){var t=a.state.inputValue,n=a.props.dispatch;n({type:"question/comment",params:{answerId:e,message:t},token:sessionStorage.getItem("access_token")})},a.handleChange=function(e){a.setState({editorState:e})},a.uploadHandler=function(e){if(!e.file)return!1;var t=a.props.dispatch;t({type:"question/upload",payload:{type:"answer",file:e.file}}).then(function(){var e=a.props.question.uploadRes.data;a.setState({editorState:R.ContentUtils.insertMedias(a.state.editorState,[{type:"IMAGE",url:e.url}])})})},a.handleSubmit=function(e,t){e.preventDefault();var n=a.props,l=n.dispatch,r=n.form.validateFields,s=a.state.editorState;r(function(e,a){e||l({type:"question/perfectAnswer",params:{answerId:t,reason:a.reason,perfectAnswer:s.toHTML()},token:sessionStorage.getItem("access_token")}).then(function(){b.default.push({pathname:"/"})})})},a.state={inputVisible:!1,inputValue:"",editorState:D.default.createEditorState(null)},a.id=e.match.params.id,a}return(0,v.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){this.getQuestionDetail()}},{key:"render",value:function(){var e=this,t=[{key:"antd-uploader",type:"component",component:I.default.createElement(f.default,{accept:"image/*",showUploadList:!1,customRequest:this.uploadHandler},I.default.createElement("button",{type:"button",className:"control-item button upload-button","data-title":"\u63d2\u5165\u56fe\u7247"},I.default.createElement(c.default,{type:"picture",theme:"filled"})))}],a=this.props,n=a.question,l=n.qDetailRes,p=n.isVoteRes,m=n.commentRes,g=a.form.getFieldDecorator,h=p&&1==p.data,w=p&&0==p.data,v=p&&-1==p.data,E={},A={};l&&200===l.code&&(E=l.data.answer,A=l.data.question);var q=this.state,y=q.inputVisible,k=q.inputValue,b=q.editorState;return I.default.createElement(N.default,null,I.default.createElement("div",{className:_.default.main},I.default.createElement(u.default,null,I.default.createElement(d.default,L,I.default.createElement("h4",null,A.category_f_name&&A.category_f_name+">"+A.category_s_name+">"+A.category_t_name)),I.default.createElement(d.default,L,I.default.createElement("div",{className:_.default.qtitle},I.default.createElement(c.default,{type:"question-circle",className:_.default.qicon}),I.default.createElement("span",null,A.title)),I.default.createElement("div",{className:_.default.qDetail},A.detail)),E.answerId?I.default.createElement(d.default,L,I.default.createElement("div",{className:_.default.title_wrapper},I.default.createElement("img",{alt:"best",src:x.default}),I.default.createElement("h3",{className:_.default.title},"\u6700\u4f73\u7b54\u6848")),I.default.createElement("div",{className:_.default.answer,dangerouslySetInnerHTML:{__html:E.answerContent}}),I.default.createElement("div",{className:_.default.operator},I.default.createElement("span",{className:_.default.icon_wrapper,onClick:w?function(){e.handleVote(1,E.answerId)}:function(){}},I.default.createElement(c.default,{type:"like",theme:h?"filled":"",className:_.default.icon}),E.agreeCount),I.default.createElement("span",{className:_.default.icon_wrapper,onClick:w?function(){e.handleVote(-1,E.answerId)}:function(){}},I.default.createElement(c.default,{type:"dislike",theme:v?"filled":"",className:_.default.icon}),E.againstCount),I.default.createElement("span",{title:"\u8bc4\u8bba",className:_.default.icon_wrapper,onClick:this.showInput},I.default.createElement(c.default,{type:"message",className:_.default.icon}),E.commentCount)),y&&I.default.createElement("div",{className:_.default.comment_wraper},I.default.createElement(u.default,null,I.default.createElement(d.default,{span:22},I.default.createElement(i.default,{ref:this.saveInputRef,type:"text",size:"large",style:{width:"98%"},value:k,placeholder:(0,S.formatMessage)({id:"rate_to_best_answer"}),onChange:this.handleInputChange,onPressEnter:this.handleInputConfirm})),I.default.createElement(d.default,{span:2},I.default.createElement(o.default,{type:"primary",size:"large",onClick:function(){return e.handleComment(E.answerId)}},"\u8bc4\u8bba"))),I.default.createElement(M.default,{listData:200===m.code?m.data:[]}))):null),I.default.createElement(u.default,null,I.default.createElement(d.default,(0,r.default)({},L,{className:_.default.btn_wrapper}),I.default.createElement(s.default,{dashed:!0},I.default.createElement("div",{className:_.default.answer_btn},I.default.createElement(c.default,{type:"edit",className:_.default.icon}),I.default.createElement("span",{className:_.default.text},E.answerId?(0,S.formatMessage)({id:"app.settings.perfect"}):(0,S.formatMessage)({id:"app.settings.answer"})))))),I.default.createElement(u.default,{className:_.default.form_box},I.default.createElement(d.default,L,I.default.createElement(C.default,{onSubmit:function(t){return e.handleSubmit(t,A.bestAnswer)}},A.bestAnswer?I.default.createElement(Q,{className:_.default.formitem},g("reason",{rules:[{required:!0,message:(0,S.formatMessage)({id:"validation.reason.required"})}]})(I.default.createElement(i.default,{size:"large",placeholder:(0,S.formatMessage)({id:"form.reason.placeholder"})}))):null,I.default.createElement(Q,null,I.default.createElement(D.default,{value:b,placeholder:(0,S.formatMessage)({id:"form.answer.placeholder"}),contentClassName:_.default.height,className:_.default.my_editor,onChange:this.handleChange,controls:V,extendControls:t})),I.default.createElement("div",{className:_.default.align_right},I.default.createElement(o.default,{htmlType:"submit",type:"primary"},(0,S.formatMessage)({id:"app.settings.submit.answer"}))))))))}}]),t}(I.PureComponent),q=y))||q)||q),B=Z;t.default=B},q6al:function(e,t,a){e.exports={editor_wrapper:"antd-pro\\components\\-rich-text-editor\\style-editor_wrapper",height:"antd-pro\\components\\-rich-text-editor\\style-height"}}}]);