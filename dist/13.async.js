(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"1mUR":function(e,t,a){"use strict";var l=a("284h"),i=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var n=i(a("kLXV"));a("DZo9");var r=i(a("8z0m"));a("Pwec");var u=i(a("CtXQ")),s=i(a("lwsE")),d=i(a("W8MJ")),o=i(a("a1gu")),f=i(a("Nsbk")),c=i(a("7W2i")),p=l(a("q1tI"));i(a("17x9"));a("WLYE");var m=function(e){function t(){var e,a;(0,s.default)(this,t);for(var l=arguments.length,i=new Array(l),n=0;n<l;n++)i[n]=arguments[n];return a=(0,o.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(i))),a.state={previewVisible:!1,previewImage:"",fileList:[]},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.handlePreview=function(e){a.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},a.handleChange=function(e){var t=e.file,l=e.fileList;a.setState({fileList:l});var i=t.originFileObj,n=a.props.uploadImg;n(i)},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.state,t=e.previewVisible,a=e.previewImage,l=e.fileList,i=this.props.count,s=p.default.createElement("div",null,p.default.createElement(u.default,{type:"plus"}),p.default.createElement("div",{className:"ant-upload-text"},"Upload"));return p.default.createElement("div",{className:"clearfix"},p.default.createElement(r.default,{listType:"picture-card",fileList:l,onPreview:this.handlePreview,onChange:this.handleChange},l.length>=i?null:s),p.default.createElement(n.default,{visible:t,footer:null,onCancel:this.handleCancel},p.default.createElement("img",{alt:"picture",style:{width:"100%"},src:a})))}}]),t}(p.Component),h=m;t.default=h},V8qJ:function(e,t,a){"use strict";var l=a("TqRt"),i=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=l(a("bx4M"));a("+L6B");var r=l(a("2/Rp")),u=l(a("pVnL")),s=l(a("lwsE")),d=l(a("W8MJ")),o=l(a("a1gu")),f=l(a("Nsbk")),c=l(a("7W2i"));a("5NDa");var p=l(a("5rEg"));a("y8nQ");var m,h,v,g,b=l(a("Vl3Y")),E=i(a("q1tI")),w=a("MuoO"),q=a("LLXN"),y=l(a("1mUR")),M=l(a("zHco")),x=b.default.Item,C=p.default.TextArea,I=(m=(0,w.connect)(function(e){var t=e.question,a=e.loading;return{question:t,submitting:a.effects["question/submit"]}}),h=b.default.create(),m(v=h((g=function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,o.default)(this,(0,f.default)(t).call(this,e)),a.handleSubmit=function(e){e.preventDefault();var t=a.props,l=t.dispatch,i=t.form;i.validateFieldsAndScroll(function(e,t){var i=t.detail;a.imgs.length>0&&(t.imgs=a.imgs),i||delete t.detail,e||l({type:"question/submit",payload:t,token:sessionStorage.getItem("access_token")})})},a.uploadImg=function(e){var t=a.props.dispatch;return t({type:"question/upload",payload:{type:"question",file:e}}).then(function(){var e=a.props.question.uploadRes;200===e.code&&a.imgs.push(e.data.id)})},a.imgs=[],a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.submitting,t=this.props.form,a=t.getFieldDecorator,l=(t.getFieldValue,{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:10}}}),i={wrapperCol:{xs:{span:24,offset:0},sm:{span:10,offset:7}}};return E.default.createElement(M.default,null,E.default.createElement(n.default,{bordered:!1},E.default.createElement(b.default,{onSubmit:this.handleSubmit,hideRequiredMark:!0,style:{marginTop:8}},E.default.createElement(x,(0,u.default)({},l,{label:E.default.createElement(q.FormattedMessage,{id:"form.question.title.label"})}),a("title",{rules:[{required:!0,message:(0,q.formatMessage)({id:"validation.question.title.required"})}]})(E.default.createElement(p.default,{placeholder:(0,q.formatMessage)({id:"form.question.title.placeholder"})}))),E.default.createElement(x,(0,u.default)({},l,{label:E.default.createElement(q.FormattedMessage,{id:"form.question.detail.label"})}),a("detail",{rules:[]})(E.default.createElement(C,{style:{minHeight:32},placeholder:(0,q.formatMessage)({id:"form.question.detail.placeholder"}),rows:4}))),E.default.createElement(x,(0,u.default)({},l,{label:E.default.createElement(q.FormattedMessage,{id:"form.question.imgs.label"})}),a("imgs",{})(E.default.createElement(y.default,{count:5,uploadImg:this.uploadImg}))),E.default.createElement(x,(0,u.default)({},i,{style:{marginTop:32}}),E.default.createElement(r.default,{type:"primary",htmlType:"submit",loading:e},E.default.createElement(q.FormattedMessage,{id:"form.submit"}))))))}}]),t}(E.PureComponent),v=g))||v)||v),L=I;t.default=L},WLYE:function(e,t,a){e.exports={"ant-upload-select-picture-card":"antd-pro\\components\\-pictures-wall\\index-ant-upload-select-picture-card","ant-upload-text":"antd-pro\\components\\-pictures-wall\\index-ant-upload-text"}}}]);