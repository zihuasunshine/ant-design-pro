(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[36],{AlsA:function(e,t,a){"use strict";var d=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var l=d(a("2/Rp"));a("5NDa");var i=d(a("5rEg")),s=d(a("p0pE")),o=d(a("2Taf")),n=d(a("vZ4D")),u=d(a("l4Ni")),f=d(a("ujKo")),c=d(a("MhPg"));a("y8nQ");var p,m,h,v,w=d(a("Vl3Y")),g=r(a("q1tI")),y=a("MuoO"),b=a("LLXN"),M=d(a("usdK")),E=d(a("mOP9")),k=d(a("+NUW")),C=d(a("fZJM")),q=a("+n12"),D=a("dCQc"),N=d(a("5WY0")),P=(d(a("Yy7e")),w.default.Item),S=(p=(0,y.connect)(function(e){var t=e.findpwd,a=e.loading;return{findpwd:t,submitting:a.effects["findpwd/submit"]}}),m=w.default.create(),p(h=m((v=function(e){function t(e){var a;return(0,o.default)(this,t),a=(0,u.default)(this,(0,f.default)(t).call(this,e)),a.handleChange=function(e){var t=e.target.value;a.setState({value:t})},a.handleSubmit=function(e){e.preventDefault();var t=a.props,d=t.form,r=t.dispatch;d.validateFields({force:!0},function(e,t){e||r({type:"findpwd/modifyPwd",payload:(0,s.default)({},t)}).then(function(){var e=a.props.findpwd.modifyPwdRes;200===e.code?((0,q.notificationTip)((0,b.formatMessage)({id:"modifypwd_success"}),!0),M.default.push({pathname:"/"})):console.log("\u4fee\u6539\u5bc6\u7801\u63a5\u53e3\u8bf7\u6c42\u5931\u8d25")})})},a.checkConfirm=function(e,t,d){var r=a.props.form;t&&t!==r.getFieldValue("password")?d((0,b.formatMessage)({id:"validation.password.twice"})):d()},a.checkPassword=function(e,t,d){var r=a.state,l=r.visible,i=r.confirmDirty;if(t)if(a.setState({help:""}),l||a.setState({visible:!!t}),t.length<6||t.length>12)d("error");else{var s=a.props.form;t&&i&&s.validateFields(["confirm"],{force:!0}),d()}else a.setState({help:(0,b.formatMessage)({id:"validation.password.required"}),visible:!!t}),d("error")},a.refreshCode=function(){var e=C.default.sha256().digest("hex");a.setState({token:e,src:D.imgCodeURL+"?token="+e})},a.state={count:0,value:"",confirmDirty:!1,visible:!1,help:"",prefix:"86",src:""},a}return(0,c.default)(t,e),(0,n.default)(t,[{key:"componentDidMount",value:function(){this.refreshCode()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=(e.form,e.findpwd);"ok"===t.status&&M.default.push({pathname:"/user/findpwd-result",state:{account:account}})}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.form,a=e.submitting,d=t.getFieldDecorator,r=this.state,s=r.help,o=r.visible,n=r.value;return g.default.createElement("div",{className:N.default.modifypwd_main},g.default.createElement("div",{className:N.default.header},(0,b.formatMessage)({id:"app.modifypwd.modifypwd"})," "),g.default.createElement(w.default,{onSubmit:this.handleSubmit},g.default.createElement(P,null,d("oldPassword",{rules:[{required:!0,message:(0,b.formatMessage)({id:"validation.old-password.required"})}]})(g.default.createElement(i.default,{size:"large",type:"password",placeholder:(0,b.formatMessage)({id:"form.old-password.placeholder"})}))),g.default.createElement(P,{help:s},g.default.createElement(k.default,{visible:o,value:n},d("password",{rules:[{required:!0,message:(0,b.formatMessage)({id:"validation.password.required"})},{validator:(0,q.isMobile)()?"":this.checkPassword}]})(g.default.createElement(i.default,{size:"large",type:"password",placeholder:(0,b.formatMessage)({id:"form.findpwd.placeholder"}),onChange:this.handleChange})))),g.default.createElement(P,null,d("confirm",{rules:[{required:!0,message:(0,b.formatMessage)({id:"validation.confirm-password.required"})},{validator:this.checkConfirm}]})(g.default.createElement(i.default,{size:"large",type:"password",placeholder:(0,b.formatMessage)({id:"form.confirm-password.placeholder"})}))),g.default.createElement(P,null,g.default.createElement(l.default,{className:N.default.submit,size:"large",loading:a,type:"primary",htmlType:"submit"},g.default.createElement(b.FormattedMessage,{id:"app.modifypwd.modifypwd"})),g.default.createElement(E.default,{className:N.default.login,to:"/account/center/myQuestion"},g.default.createElement(b.FormattedMessage,{id:"app.modifypwd-result.back-center"})))))}}]),t}(g.Component),h=v))||h)||h),F=S;t.default=F}}]);