(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{"0C3M":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("lwsE")),l=n(a("W8MJ")),s=n(a("a1gu")),i=n(a("Nsbk")),u=n(a("7W2i"));a("Lzxq");var o=n(a("q1tI")),d=n(a("yEr3")),f=n(a("q6al")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,s.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(l))),a.state={editorState:d.default.createEditorState("<p>Hello <b>World!</b></p>"),outputHTML:"<p></p>"},a.handleChange=function(e){console.log(e),a.setState({editorState:e,outputHTML:e.toHTML()})},a.setEditorContentAsync=function(){a.isLivinig&&a.setState({editorState:d.default.createEditorState("<p>\u4f60\u597d\uff0c<b>\u4e16\u754c!</b><p>")})},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.isLivinig=!0,setTimeout(this.setEditorContentAsync,3e3)}},{key:"componentWillUnmount",value:function(){this.isLivinig=!1}},{key:"render",value:function(){var e=this.state,t=(e.editorState,e.outputHTML,["bold","italic","underline","text-color","separator","link","separator","media"]);return o.default.createElement("div",null,o.default.createElement("div",{className:f.default.editor_wrapper},o.default.createElement(d.default,{contentClassName:f.default.height,controls:t,onChange:this.handleChange})))}}]),t}(o.default.Component);t.default=p},"9NTl":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFmklEQVRYR62Xe2yTVRjGn+d83dxoGxFpJ8ZE1AVZ0RgRoqjBS6IGQRJQLlFjEDNBE2JQoviPQ4yJGuP9DyKKUaKCIDFeuZgoKnchakJbFEQhkrTjIq7dxvZ95zFf241ua9cxPX8157zneX/nfd/zfqfEIIcEk0033COjw+FI8ttByoCD2agTI4dmOmq/JDnB30+qMRhJvDUYrYoA/klbj146xVpnrDHWQvxR4CIAN512KAF4TdQnBggBvFLSoVA0+W4lqIoAmXTDKwAfqSRUZn1uKBp/p7+9/QJICGTTsSyI6sEACFoXjibuHDRAtrlhhMQjvQRcQB9Aej9Ya/f4a5lT5jICY2G5AOTIbnvpl1Bd4opBA7SkYzMIfNQlIGmrE8Bj1sMNACZCvCq3Ru0GsDEYObk82zz0DQD35+aFDjiaHBqe+LocRMkUZI6PvlwuZ1J8/HT4tQoGb8tiLcGzSwoKO43jTvc8p4lkY1EkNjln2Xm1Q/cd7L2vD0B7atTFLp39/uUqqvK/aLxp1jqLKfu0DIeVAjC0WWsDH4aqM+OzHaENAMYXRe9YKJqIkrDFe/sAtB4bPcF6ZmsPI6rRWtxOstYPOIDbegMY2bv8oFuajwG8A9nVoFnfw05t54XqDqb6BZDgZJsbDgMckc+j2gLwLvOjIvEEoM0Afynk3u8Ffg9AtfHmd1hnGYHrARjVdtahtWovyUhBZ0eoLnFNxRT4BtnmWJOEJXn/2gbiVYKrAO2R+Fmp8DuOu9zzAo0EnvTrhkbTrOUiAtfldOjdHI7s+2ZAAJlUwy0gN+aN9QXJzyQsA9AJYL2glCEOWcvZNPpc4h2OwRxrsaPLAWnnSZwKcLI/Z4x7wZDhv/41IICWVGwJiaZCBLY7wAuWXFcAWpFLj5AA8aiAvwkdMIYP9wAwmiYPi0FeXdBZFq5LPFQRoD1Vf0knq39irqfna8CpMqM9V3/m827vhszzENb4AP66iJ0B4CkXeCZXA2J7sNa9MNvmHAZZUwCXU4WLas9J5HUKo88tyKQaXgK5sIcR7YOynAj/ChlugsVKUk9ZcSGBcwBthOgEiPkutA/iKzQ2KZk3e+mMC0aSftMqD5BNxyYJ+hygOW2mIwHamzuteY7gLSCCEn4H/ZZMLx8ZBQDO8n8ZehMlswvg+V0aAtaEo/GZFVPgG+R6gZvr6/7drips2oWAfQCuWQmgZH8X8IOhN0syLwPMO5PaQS4NRuLPkfkr228Eihez6YbbBX5RNPezArqXnZgE4kYBQQIpCLuNw81G3t+d1qwgeW0h79Y4un7IucltvR2XrYHukAlO2/H6EZ5XneguyPyiC+ArCXtA7AVts/8IkTgD4N0AAt3OpIMB4raaaOK3MwLwX0GZ5thqB95qD+ZZgqPKCfQ7L23yowSD18ORxKpStn1uQf6xGXsPxD0SljL/GFk8KADY+wXzOqEghDmhusR7/daABGbTsZW+81z9QP8AbHQcexgy/ldMxnOPunSaAN7XQ0z2RQNsk9F2ibdSpkbEVACTCvWgUhDdEcg5b4693f2YKHNkH8oxvNXzMJfEgxBaRfsEYcZW2utfCVLzgpHk8j5FmEnHVlQWKJwFyFTRG+da1QRZdaAVminAhx/QEOyCcDTpv5zy/wuUHhPK0BtXskhk+nzBBKwNReKzSeSakE6OGZY5pS0ERvdMC1IydnZv3QCgmuHJLSTcATzLYz2ah4RPQ9H49C7nXeItLfURtFV/Vwwh4EA4Gq/vLyxnBFBwfqdPXkq0ALGVQM6pgEQ4Go/9XwAbgpH4lHLOu5xk0mPOE/R9DuK/Pst90Uw6l4INwQinkns7BlJlpyF0MhRNlKytPregnHAmHVt/Js6LIwHZl0J1Cb89lx0Va0AaWUP+0T6Qk/e2kerPIvef6m/vv5ZDhj+aFityAAAAAElFTkSuQmCC"},BpJf:function(e,t,a){e.exports={main:"antd-pro\\pages\\-question\\-answer-main",qtitle:"antd-pro\\pages\\-question\\-answer-qtitle",qicon:"antd-pro\\pages\\-question\\-answer-qicon",title_wrapper:"antd-pro\\pages\\-question\\-answer-title_wrapper",title:"antd-pro\\pages\\-question\\-answer-title",qDetail:"antd-pro\\pages\\-question\\-answer-qDetail",answer:"antd-pro\\pages\\-question\\-answer-answer",operator:"antd-pro\\pages\\-question\\-answer-operator",icon_wrapper:"antd-pro\\pages\\-question\\-answer-icon_wrapper",icon:"antd-pro\\pages\\-question\\-answer-icon",comment_wraper:"antd-pro\\pages\\-question\\-answer-comment_wraper",btn_wrapper:"antd-pro\\pages\\-question\\-answer-btn_wrapper",answer_btn:"antd-pro\\pages\\-question\\-answer-answer_btn",text:"antd-pro\\pages\\-question\\-answer-text",form_box:"antd-pro\\pages\\-question\\-answer-form_box",formitem:"antd-pro\\pages\\-question\\-answer-formitem",align_right:"antd-pro\\pages\\-question\\-answer-align_right",my_editor:"antd-pro\\pages\\-question\\-answer-my_editor",height:"antd-pro\\pages\\-question\\-answer-height"}},gdxr:function(e,t,a){"use strict";var n=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("pVnL"));a("/zsF");var s=n(a("PArb"));a("14J3");var i=n(a("BMrR"));a("+L6B");var u=n(a("2/Rp"));a("5NDa");var o=n(a("5rEg"));a("Pwec");var d=n(a("CtXQ"));a("jCWc");var f=n(a("kPKH"));a("miYZ");var p=n(a("tsqr")),c=n(a("lwsE")),m=n(a("W8MJ")),g=n(a("a1gu")),w=n(a("Nsbk")),h=n(a("7W2i"));a("y8nQ");var v,E,A,q,y=n(a("Vl3Y")),C=r(a("q1tI")),I=a("MuoO"),k=n(a("usdK")),b=n(a("v99g")),N=(n(a("0C3M")),n(a("yEr3"))),M=(a("+n12"),a("LLXN")),_=n(a("BpJf")),L=n(a("9NTl")),D={xs:24,sm:24,md:24,lg:16,xl:16,xxl:16},R=y.default.Item,Q=["bold","italic","underline","text-color","separator","link","separator","media"],V=(v=(0,I.connect)(function(e){var t=e.question;return{question:t}}),E=y.default.create(),v(A=E((q=function(e){function t(e){var a;return(0,c.default)(this,t),a=(0,g.default)(this,(0,w.default)(t).call(this,e)),a.showInput=function(){var e=a.state.inputVisible;e||a.setState({inputVisible:!0},function(){return a.input.focus()})},a.saveInputRef=function(e){a.input=e},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){var e=a.state.inputValue;e||a.setState({inputVisible:!1})},a.isVote=function(e){if(sessionStorage.getItem("access_token")){var t=a.props.dispatch;t({type:"question/isVote",params:{answerId:e}})}},a.handleVote=function(e,t){var n=a.props.dispatch;n({type:"question/vote",params:{answerId:t,voteValue:e}})},a.handleComment=function(e){var t=a.state.inputValue,n=a.props.dispatch;n({type:"question/comment",params:{answerId:e,message:t},token:sessionStorage.getItem("access_token")})},a.handleSubmit=function(e,t){e.preventDefault();var n=a.props,r=n.dispatch,l=n.form.validateFields;l(function(e,a){e||r({type:"question/perfectAnswer",params:{answerId:t,reason:a.reason,perfectAnswer:a.answer.toHTML()},token:sessionStorage.getItem("access_token")})})},a.state={inputVisible:!1,inputValue:""},a.id=e.match.params.id,a}return(0,h.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"question/getDetail",id:this.id}).then(function(){var t=e.props.question.qDetailRes;if(200!==t.code)return p.default.error((0,M.formatMessage)({id:t.msg})+",\u5373\u5c06\u8df3\u8f6c\u5230\u9996\u9875"),void setTimeout(function(){k.default.push("/")},500);var a=t.data.answer;e.isVote(a.answerId)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.question.qDetailRes,n=t.form.getFieldDecorator,r={},p={};a&&200===a.code&&(r=a.data.answer,p=a.data.question);var c=this.state,m=c.inputVisible,g=c.inputValue;return C.default.createElement(b.default,null,C.default.createElement("div",{className:_.default.main},C.default.createElement(i.default,null,C.default.createElement(f.default,D,C.default.createElement("h4",null,p.category_f_name&&p.category_f_name+">"+p.category_s_name+">"+p.category_t_name)),C.default.createElement(f.default,D,C.default.createElement("div",{className:_.default.qtitle},C.default.createElement(d.default,{type:"question-circle",className:_.default.qicon}),C.default.createElement("span",null,p.title)),C.default.createElement("div",{className:_.default.qDetail},p.detail)),r.answerId?C.default.createElement(f.default,D,C.default.createElement("div",{className:_.default.title_wrapper},C.default.createElement("img",{alt:"best",src:L.default}),C.default.createElement("h3",{className:_.default.title},"\u6700\u4f73\u7b54\u6848")),C.default.createElement("div",{className:_.default.answer,dangerouslySetInnerHTML:{__html:r.answerContent}}),C.default.createElement("div",{className:_.default.operator},C.default.createElement("span",{className:_.default.icon_wrapper,onClick:function(){e.handleVote(1,r.answerId)}},C.default.createElement(d.default,{type:"like",className:_.default.icon}),r.agreeCount),C.default.createElement("span",{className:_.default.icon_wrapper,onClick:function(){e.handleVote(-1,r.answerId)}},C.default.createElement(d.default,{type:"dislike",className:_.default.icon}),r.againstCount),C.default.createElement("span",{title:"\u8bc4\u8bba",className:_.default.icon_wrapper,onClick:this.showInput},C.default.createElement(d.default,{type:"message",className:_.default.icon}),r.commentCount)),m&&C.default.createElement("div",{className:_.default.comment_wraper},C.default.createElement(i.default,null,C.default.createElement(f.default,{span:22},C.default.createElement(o.default,{ref:this.saveInputRef,type:"text",size:"large",style:{width:"98%"},value:g,placeholder:(0,M.formatMessage)({id:"rate_to_best_answer"}),onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm})),C.default.createElement(f.default,{span:2},C.default.createElement(u.default,{type:"primary",size:"large",onClick:function(){return e.handleComment(r.answerId)}},"\u8bc4\u8bba"))))):null),C.default.createElement(i.default,null,C.default.createElement(f.default,(0,l.default)({},D,{className:_.default.btn_wrapper}),C.default.createElement(s.default,{dashed:!0},C.default.createElement("div",{className:_.default.answer_btn},C.default.createElement(d.default,{type:"edit",className:_.default.icon}),C.default.createElement("span",{className:_.default.text},r.answerId?(0,M.formatMessage)({id:"app.settings.perfect"}):(0,M.formatMessage)({id:"app.settings.answer"})))))),C.default.createElement(i.default,{className:_.default.form_box},C.default.createElement(f.default,D,C.default.createElement(y.default,{onSubmit:function(t){return e.handleSubmit(t,p.bestAnswer)}},p.bestAnswer?C.default.createElement(R,{className:_.default.formitem},n("reason",{rules:[{required:!0,message:(0,M.formatMessage)({id:"validation.reason.required"})}]})(C.default.createElement(o.default,{size:"large",placeholder:(0,M.formatMessage)({id:"form.reason.placeholder"})}))):null,C.default.createElement(R,null,n("answer",{validateTrigger:"onBlur",rules:[{required:!0,validator:function(e,t,a){t.isEmpty()?a((0,M.formatMessage)({id:"validation.answer.required"})):a()}}]})(C.default.createElement(N.default,{contentClassName:_.default.height,className:_.default.my_editor,controls:Q,placeholder:(0,M.formatMessage)({id:"form.answer.placeholder"})}))),C.default.createElement("div",{className:_.default.align_right},C.default.createElement(u.default,{htmlType:"submit",type:"primary"},(0,M.formatMessage)({id:"app.settings.submit.answer"}))))))))}}]),t}(C.PureComponent),A=q))||A)||A),x=V;t.default=x},q6al:function(e,t,a){e.exports={editor_wrapper:"antd-pro\\components\\-rich-text-editor\\style-editor_wrapper",height:"antd-pro\\components\\-rich-text-editor\\style-height"}}}]);